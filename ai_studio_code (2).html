<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr·∫Øc Nghi·ªám Ki·∫øn Th·ª©c M√°y T√≠nh</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üß†</text></svg>">
    
    <!-- ======================= CSS STYLES ======================= -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;600;700&display=swap');

        :root {
            --primary-color: #3B71CA;
            --secondary-color: #9FA6B2;
            --background-color: #F0F2F5;
            --card-background: #FFFFFF;
            --text-color: #212529;
            --correct-color: #14A44D;
            --incorrect-color: #DC4C64;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .quiz-container {
            background-color: var(--card-background);
            border-radius: 16px;
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 800px;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4776E6, #8E54E9);
            color: white;
            padding: 25px 30px;
            text-align: center;
        }

        .header h1 {
            margin: 0;
            font-size: 1.8rem;
        }
        .header p {
            margin: 5px 0 0;
            opacity: 0.9;
        }

        .main-content {
            padding: 30px;
        }

        #start-screen h2, #score-screen h2 {
            text-align: center;
            color: var(--primary-color);
            margin-top: 0;
        }
        #start-screen p, #score-screen p {
            text-align: center;
            line-height: 1.6;
            color: #6c757d;
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-weight: 600;
            color: #555;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        #question {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        #options-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .option-btn {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            background-color: var(--card-background);
            cursor: pointer;
            text-align: left;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.2s ease-in-out;
        }

        .option-btn:hover:not([disabled]) {
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .option-btn.correct {
            background-color: #E7F6EC;
            border-color: var(--correct-color);
            color: var(--correct-color);
            font-weight: 600;
        }

        .option-btn.incorrect {
            background-color: #FBE9EC;
            border-color: var(--incorrect-color);
            color: var(--incorrect-color);
            font-weight: 600;
        }

        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.9;
        }

        .btn {
            display: block;
            width: 220px;
            margin: 30px auto 0;
            padding: 15px 20px;
            border: none;
            border-radius: 50px;
            background-color: var(--primary-color);
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            background-color: #2F5AB1;
            box-shadow: 0 4px 10px rgba(59, 113, 202, 0.4);
        }

        #result-container {
            margin-top: 25px;
            padding: 20px;
            border-radius: 10px;
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            line-height: 1.6;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #result-container h3 {
            margin-top: 0;
            font-size: 1.2rem;
        }

        #result-container .explanation {
            margin-bottom: 15px;
        }

        #result-container .memory-tip {
            background-color: #FFF9C4;
            border-left: 4px solid #FBC02D;
            padding: 15px;
            border-radius: 4px;
        }
        #result-container .memory-tip h4 {
            color: #F57F17;
        }

        #final-score {
            font-size: 1.8rem;
            font-weight: 700;
            text-align: center;
            color: var(--primary-color);
        }
        #final-message {
            font-size: 1.1rem;
        }

        .hide {
            display: none;
        }
    </style>
</head>
<body>

    <div class="quiz-container">
        <div class="header">
            <h1>Ki·ªÉm Tra Ki·∫øn Th·ª©c M√°y T√≠nh</h1>
            <p>Ch∆∞∆°ng 1 & 5</p>
        </div>
        <div class="main-content">
            <div id="start-screen">
                <h2>B·∫°n ƒë√£ s·∫µn s√†ng ƒë·ªÉ ki·ªÉm tra ki·∫øn th·ª©c c·ªßa m√¨nh?</h2>
                <p>H·ªá th·ªëng s·∫Ω ch·ªçn ng·∫´u nhi√™n <strong>20 c√¢u h·ªèi</strong> t·ª´ ng√¢n h√†ng c√¢u h·ªèi v·ªÅ c√°c kh√°i ni·ªám n·ªÅn t·∫£ng v√† t·ªï ch·ª©c m√°y t√≠nh.</p>
                <button id="start-btn" class="btn">B·∫Øt ƒê·∫ßu</button>
            </div>

            <div id="quiz-screen" class="hide">
                <div class="quiz-header">
                    <span id="question-counter">C√¢u 1 / 20</span>
                    <span id="score-counter">ƒêi·ªÉm: 0</span>
                </div>
                <h2 id="question">ƒê√¢y l√† n∆°i c√¢u h·ªèi s·∫Ω xu·∫•t hi·ªán.</h2>
                <div id="options-container">
                    <!-- C√°c n√∫t ƒë√°p √°n s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JavaScript -->
                </div>
                <div id="result-container" class="hide">
                    <h3 id="result-text"></h3>
                    <div class="explanation">
                        <h4>üìù Gi·∫£i th√≠ch:</h4>
                        <p id="explanation-text"></p>
                    </div>
                     <div class="memory-tip">
                        <h4>üí° M·∫πo ghi nh·ªõ:</h4>
                        <p id="tip-text"></p>
                    </div>
                </div>
                <button id="next-btn" class="btn hide">C√¢u ti·∫øp theo</button>
            </div>

            <div id="score-screen" class="hide">
                <h2>Ho√†n th√†nh b√†i ki·ªÉm tra!</h2>
                <p id="final-score">B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng 0 / 20 c√¢u.</p>
                <p id="final-message"></p>
                <button id="restart-btn" class="btn">L√†m l·∫°i t·ª´ ƒë·∫ßu</button>
            </div>
        </div>
    </div>

    <!-- ======================= JAVASCRIPT LOGIC ======================= -->
    <script>
        // To√†n b·ªô logic ƒë∆∞·ª£c g√≥i trong m·ªôt ƒë·ªëi t∆∞·ª£ng ƒë·ªÉ m√£ ngu·ªìn s·∫°ch s·∫Ω h∆°n
        const quizApp = {
            // --- NG√ÇN H√ÄNG C√ÇU H·ªéI (CHAPTER 1 & 5) ---
            questionBank: [
                // Chapter 1 Questions
                { question: "√ù t∆∞·ªüng c·ªët l√µi nh·∫•t c·ªßa m√¥ h√¨nh Turing l√† g√¨?", options: ["M√°y t√≠nh c√≥ 4 th√†nh ph·∫ßn ch√≠nh", "Ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c l∆∞u trong b·ªô nh·ªõ", "M√°y t√≠nh l√† m·ªôt b·ªô x·ª≠ l√Ω d·ªØ li·ªáu c√≥ th·ªÉ l·∫≠p tr√¨nh", "M√°y t√≠nh s·ª≠ d·ª•ng b√≥ng b√°n d·∫´n"], answer: "M√°y t√≠nh l√† m·ªôt b·ªô x·ª≠ l√Ω d·ªØ li·ªáu c√≥ th·ªÉ l·∫≠p tr√¨nh", explanation: "M√¥ h√¨nh Turing gi·ªõi thi·ªáu kh√°i ni·ªám 'ch∆∞∆°ng tr√¨nh' (program), bi·∫øn m√°y t√≠nh t·ª´ m·ªôt thi·∫øt b·ªã chuy√™n d·ª•ng th√†nh m·ªôt thi·∫øt b·ªã ƒëa nƒÉng.", tip: "Turing = Program. Ch√≠nh ch∆∞∆°ng tr√¨nh l√†m cho m√°y t√≠nh tr·ªü n√™n 'v·∫°n nƒÉng'." },
                { question: "ƒê·ªôt ph√° mang t√≠nh c√°ch m·∫°ng c·ªßa m√¥ h√¨nh von Neumann l√† g√¨?", options: ["Ph√°t minh ra b√≥ng b√°n d·∫´n", "Kh√°i ni·ªám ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c l∆∞u tr·ªØ (stored-program concept)", "S·ª≠ d·ª•ng h·ªá nh·ªã ph√¢n", "Ph√°t minh ra Internet"], answer: "Kh√°i ni·ªám ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c l∆∞u tr·ªØ (stored-program concept)", explanation: "Von Neumann ƒë·ªÅ xu·∫•t r·∫±ng c·∫£ ch∆∞∆°ng tr√¨nh v√† d·ªØ li·ªáu ƒë·ªÅu n√™n ƒë∆∞·ª£c l∆∞u tr·ªØ trong c√πng m·ªôt b·ªô nh·ªõ, gi√∫p vi·ªác thay ƒë·ªïi t√°c v·ª• c·ªßa m√°y t√≠nh tr·ªü n√™n c·ª±c k·ª≥ linh ho·∫°t.", tip: "Von Neumann = Ch∆∞∆°ng tr√¨nh + D·ªØ li·ªáu C√ôNG ·ªü trong B·ªô nh·ªõ." },
                { question: "Th√†nh ph·∫ßn n√†o trong ki·∫øn tr√∫c von Neumann th·ª±c hi·ªán c√°c ph√©p t√≠nh?", options: ["Control Unit", "Memory", "Arithmetic Logic Unit (ALU)", "Input/Output Subsystem"], answer: "Arithmetic Logic Unit (ALU)", explanation: "ALU l√† 'm√°y t√≠nh' th·ª±c s·ª± b√™n trong CPU, ch·ªãu tr√°ch nhi·ªám cho t·∫•t c·∫£ c√°c ph√©p to√°n s·ªë h·ªçc (Arithmetic) v√† logic (Logic).", tip: "Arithmetic = S·ªë h·ªçc. ALU l√†m to√°n." },
                { question: "C√¥ng ngh·ªá n√†o l√† ƒë·∫∑c tr∆∞ng c·ªßa th·∫ø h·ªá m√°y t√≠nh th·ª© nh·∫•t (1950-1959)?", options: ["B√≥ng b√°n d·∫´n (Transistor)", "M·∫°ch t√≠ch h·ª£p (IC)", "Vi x·ª≠ l√Ω (Microprocessor)", "B√≥ng ƒë√®n ch√¢n kh√¥ng (Vacuum Tube)"], answer: "B√≥ng ƒë√®n ch√¢n kh√¥ng (Vacuum Tube)", explanation: "M√°y t√≠nh th·∫ø h·ªá ƒë·∫ßu ti√™n nh∆∞ ENIAC s·ª≠ d·ª•ng h√†ng ng√†n b√≥ng ƒë√®n ch√¢n kh√¥ng, khi·∫øn ch√∫ng r·∫•t l·ªõn, t·ªèa nhi·ªÅu nhi·ªát v√† k√©m tin c·∫≠y.", tip: "Th·∫ø h·ªá 1 = C·ªï x∆∞a nh·∫•t, to nh·∫•t = B√≥ng ƒë√®n ch√¢n kh√¥ng." },
                { question: "Cu·ªôc c√°ch m·∫°ng m√°y t√≠nh c√° nh√¢n b√πng n·ªï ·ªü th·∫ø h·ªá th·ª© t∆∞ nh·ªù v√†o s·ª± ra ƒë·ªùi c·ªßa linh ki·ªán n√†o?", options: ["RAM", "·ªî c·ª©ng", "Vi x·ª≠ l√Ω (Microprocessor)", "M√†n h√¨nh m√†u"], answer: "Vi x·ª≠ l√Ω (Microprocessor)", explanation: "Th·∫ø h·ªá th·ª© t∆∞ (1975-1985) ch·ª©ng ki·∫øn s·ª± ra ƒë·ªùi c·ªßa vi x·ª≠ l√Ω, t√≠ch h·ª£p to√†n b·ªô CPU l√™n m·ªôt con chip duy nh·∫•t, l√†m cho m√°y t√≠nh ƒë·ªß nh·ªè v√† r·∫ª ƒë·ªÉ tr·ªü th√†nh thi·∫øt b·ªã c√° nh√¢n.", tip: "Th·∫ø h·ªá 4 = M√°y t√≠nh c√° nh√¢n = Vi x·ª≠ l√Ω." },
                // Chapter 5 Questions
                { question: "Thanh ghi n√†o trong CPU c√≥ nhi·ªám v·ª• gi·ªØ ƒë·ªãa ch·ªâ c·ªßa ch·ªâ th·ªã K·∫æ TI·∫æP s·∫Ω ƒë∆∞·ª£c th·ª±c thi?", options: ["Instruction Register (IR)", "Program Counter (PC)", "Accumulator (AC)", "Data Register"], answer: "Program Counter (PC)", explanation: "Program Counter (PC) ho·∫°t ƒë·ªông nh∆∞ m·ªôt d·∫•u trang, lu√¥n tr·ªè ƒë·∫øn v·ªã tr√≠ trong b·ªô nh·ªõ c·ªßa l·ªánh ti·∫øp theo c·∫ßn ƒë∆∞·ª£c n·∫°p v√† th·ª±c thi. Sau m·ªói l·∫ßn n·∫°p l·ªánh, gi√° tr·ªã c·ªßa PC s·∫Ω ƒë∆∞·ª£c tƒÉng l√™n.", tip: "'Counter' l√† 'b·ªô ƒë·∫øm' ƒë·∫øm qua t·ª´ng d√≤ng l·ªánh c·ªßa ch∆∞∆°ng tr√¨nh." },
                { question: "Trong chu k·ª≥ m√°y (Machine Cycle), giai ƒëo·∫°n 'Fetch' (T√¨m n·∫°p) l√†m g√¨?", options: ["Th·ª±c hi·ªán ph√©p to√°n", "G·ª≠i k·∫øt qu·∫£ ra m√†n h√¨nh", "Sao ch√©p ch·ªâ th·ªã t·ª´ b·ªô nh·ªõ v√†o Instruction Register (IR)", "Ph√¢n t√≠ch ch·ªâ th·ªã"], answer: "Sao ch√©p ch·ªâ th·ªã t·ª´ b·ªô nh·ªõ v√†o Instruction Register (IR)", explanation: "Giai ƒëo·∫°n Fetch l√† b∆∞·ªõc ƒë·∫ßu ti√™n. CPU s·ª≠ d·ª•ng ƒë·ªãa ch·ªâ trong Program Counter (PC) ƒë·ªÉ t√¨m ch·ªâ th·ªã trong b·ªô nh·ªõ, sau ƒë√≥ sao ch√©p ch·ªâ th·ªã ƒë√≥ v√†o Instruction Register (IR) ƒë·ªÉ chu·∫©n b·ªã cho giai ƒëo·∫°n Decode.", tip: "Fetch nghƒ©a l√† 'ƒëi l·∫•y v·ªÅ'. CPU ƒëi l·∫•y l·ªánh v·ªÅ 'nh√†' (thanh ghi IR)." },
                { question: "Ki·∫øn tr√∫c m√°y t√≠nh CISC (Complex Instruction Set Computer) c√≥ ƒë·∫∑c ƒëi·ªÉm g√¨?", options: ["T·∫≠p l·ªánh nh·ªè, ƒë∆°n gi·∫£n", "Ch·ªâ d√πng trong di ƒë·ªông", "M·ªôt ch·ªâ th·ªã c√≥ th·ªÉ th·ª±c hi·ªán nhi·ªÅu thao t√°c ph·ª©c t·∫°p", "Y√™u c·∫ßu vi·∫øt nhi·ªÅu l·ªánh h∆°n"], answer: "M·ªôt ch·ªâ th·ªã c√≥ th·ªÉ th·ª±c hi·ªán nhi·ªÅu thao t√°c ph·ª©c t·∫°p", explanation: "CISC ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ m·ªôt l·ªánh m√°y c√≥ th·ªÉ th·ª±c hi·ªán m·ªôt t√°c v·ª• ph·ª©c t·∫°p. ƒêi·ªÅu n√†y gi√∫p l·∫≠p tr√¨nh d·ªÖ h∆°n nh∆∞ng l√†m cho ph·∫ßn c·ª©ng CPU ph·ª©c t·∫°p h∆°n.", tip: "C trong CISC l√† 'Complex' (ph·ª©c t·∫°p). M·ªôt l·ªánh ph·ª©c t·∫°p, l√†m nhi·ªÅu vi·ªác." },
                { question: "B·ªô ph·∫≠n n√†o c·ªßa m√°y t√≠nh th·ª±c hi·ªán c√°c ph√©p to√°n logic nh∆∞ AND, OR, NOT?", options: ["Control Unit (CU)", "Main Memory (RAM)", "Arithmetic Logic Unit (ALU)", "Input/Output (I/O) Subsystem"], answer: "Arithmetic Logic Unit (ALU)", explanation: "ALU l√† 'b·ªô n√£o' t√≠nh to√°n c·ªßa CPU. N√≥ ch·ªãu tr√°ch nhi·ªám cho t·∫•t c·∫£ c√°c ph√©p to√°n s·ªë h·ªçc v√† c√°c ph√©p to√°n logic.", tip: "Ch·ªØ L trong ALU l√† vi·∫øt t·∫Øt c·ªßa 'Logic'." },
                { question: "B·ªô nh·ªõ Cache (Cache Memory) ƒë∆∞·ª£c ƒë·∫∑t ·ªü ƒë√¢u v√† c√≥ m·ª•c ƒë√≠ch g√¨?", options: ["Trong ·ªï c·ª©ng", "Gi·ªØa CPU v√† RAM, ƒë·ªÉ tƒÉng t·ªëc ƒë·ªô truy c·∫≠p d·ªØ li·ªáu", "L√† m·ªôt ph·∫ßn c·ªßa h·ªá th·ªëng I/O", "Thay th·∫ø ho√†n to√†n cho RAM"], answer: "Gi·ªØa CPU v√† RAM, ƒë·ªÉ tƒÉng t·ªëc ƒë·ªô truy c·∫≠p d·ªØ li·ªáu", explanation: "Cache l√† m·ªôt lo·∫°i b·ªô nh·ªõ nh·ªè nh∆∞ng r·∫•t nhanh, n·∫±m gi·ªØa CPU v√† RAM. N√≥ l∆∞u tr·ªØ c√°c d·ªØ li·ªáu v√† ch·ªâ th·ªã ƒë∆∞·ª£c s·ª≠ d·ª•ng th∆∞·ªùng xuy√™n, gi√∫p CPU kh√¥ng ph·∫£i ch·ªù ƒë·ª£i RAM (v·ªën ch·∫≠m h∆°n nhi·ªÅu).", tip: "Cache = 'B·ªô nh·ªõ ƒë·ªám' si√™u t·ªëc cho CPU." },
                { question: "Thanh ghi n√†o trong CPU gi·ªØ ch·ªâ th·ªã ƒêANG ƒë∆∞·ª£c th·ª±c thi?", options: ["Program Counter (PC)", "Instruction Register (IR)", "Data Register", "Status Register"], answer: "Instruction Register (IR)", explanation: "Sau khi l·ªánh ƒë∆∞·ª£c 'Fetch' t·ª´ b·ªô nh·ªõ, n√≥ s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t v√†o Instruction Register (IR). T·∫°i ƒë√¢y, Control Unit s·∫Ω 'Decode' (gi·∫£i m√£) n√≥ ƒë·ªÉ bi·∫øt c·∫ßn ph·∫£i l√†m g√¨.", tip: "IR = 'Instruction' Register. N√≥ gi·ªØ c√°i 'Instruction' (ch·ªâ th·ªã) hi·ªán t·∫°i." },
                { question: "K·ªπ thu·∫≠t Pipelining (ƒë∆∞·ªùng ·ªëng) c·∫£i thi·ªán hi·ªáu su·∫•t c·ªßa CPU b·∫±ng c√°ch n√†o?", options: ["TƒÉng dung l∆∞·ª£ng RAM", "L√†m l·ªánh ƒë∆°n gi·∫£n h∆°n", "Th·ª±c hi·ªán song song c√°c giai ƒëo·∫°n kh√°c nhau c·ªßa nhi·ªÅu l·ªánh", "Gi·∫£m s·ªë l∆∞·ª£ng thanh ghi"], answer: "Th·ª±c hi·ªán song song c√°c giai ƒëo·∫°n kh√°c nhau c·ªßa nhi·ªÅu l·ªánh", explanation: "Pipelining cho ph√©p CPU b·∫Øt ƒë·∫ßu x·ª≠ l√Ω l·ªánh ti·∫øp theo tr∆∞·ªõc khi l·ªánh hi·ªán t·∫°i ho√†n th√†nh. V√≠ d·ª•, trong khi l·ªánh 1 ƒëang 'Execute', l·ªánh 2 c√≥ th·ªÉ ƒëang 'Decode' v√† l·ªánh 3 ƒëang 'Fetch'.", tip: "H√£y t∆∞·ªüng t∆∞·ª£ng m·ªôt d√¢y chuy·ªÅn l·∫Øp r√°p, m·ªói c√¥ng ƒëo·∫°n x·ª≠ l√Ω m·ªôt s·∫£n ph·∫©m kh√°c nhau c√πng l√∫c." },
                { question: "ROM (Read-Only Memory) l√† lo·∫°i b·ªô nh·ªõ g√¨?", options: ["Kh·∫£ bi·∫øn (m·∫•t d·ªØ li·ªáu khi t·∫Øt ngu·ªìn)", "B·∫•t bi·∫øn (kh√¥ng m·∫•t d·ªØ li·ªáu khi t·∫Øt ngu·ªìn)", "Nhanh nh∆∞ng dung l∆∞·ª£ng nh·ªè", "Ch·ªâ d√πng cho t√≠nh to√°n"], answer: "B·∫•t bi·∫øn (kh√¥ng m·∫•t d·ªØ li·ªáu khi t·∫Øt ngu·ªìn)", explanation: "ROM l√† b·ªô nh·ªõ ch·ªâ ƒë·ªçc, n·ªôi dung c·ªßa n√≥ ƒë∆∞·ª£c nh√† s·∫£n xu·∫•t ghi s·∫µn v√† kh√¥ng b·ªã m·∫•t ƒëi khi ng·∫Øt ngu·ªìn ƒëi·ªán. N√≥ th∆∞·ªùng ch·ª©a c√°c ch∆∞∆°ng tr√¨nh kh·ªüi ƒë·ªông thi·∫øt y·∫øu c·ªßa m√°y t√≠nh (BIOS/UEFI).", tip: "Read-Only = Ch·ªâ ƒê·ªçc. D·ªØ li·ªáu l√† vƒ©nh vi·ªÖn." },
                { question: "Ph∆∞∆°ng th·ª©c truy c·∫≠p I/O n√†o cho ph√©p thi·∫øt b·ªã t·ªëc ƒë·ªô cao truy·ªÅn d·ªØ li·ªáu tr·ª±c ti·∫øp ƒë·∫øn b·ªô nh·ªõ m√† kh√¥ng c·∫ßn qua CPU?", options: ["Programmed I/O", "Interrupt-driven I/O", "Direct Memory Access (DMA)", "Memory-mapped I/O"], answer: "Direct Memory Access (DMA)", explanation: "DMA ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ gi·∫£i ph√≥ng CPU kh·ªèi c√¥ng vi·ªác truy·ªÅn d·ªØ li·ªáu. CPU ch·ªâ c·∫ßn ra l·ªánh cho b·ªô ƒëi·ªÅu khi·ªÉn DMA, sau ƒë√≥ c√≥ th·ªÉ l√†m vi·ªác kh√°c trong khi DMA t·ª± qu·∫£n l√Ω vi·ªác truy·ªÅn d·ªØ li·ªáu.", tip: "Direct Memory Access = Truy c·∫≠p b·ªô nh·ªõ TR·ª∞C TI·∫æP." },
                { question: "Ki·∫øn tr√∫c RISC (Reduced Instruction Set Computer) th∆∞·ªùng th·∫•y ·ªü ƒë√¢u?", options: ["M√°y ch·ªß hi·ªáu nƒÉng cao", "H·∫ßu h·∫øt c√°c thi·∫øt b·ªã di ƒë·ªông", "C√°c m√°y t√≠nh th·∫ø h·ªá ƒë·∫ßu ti√™n", "Ch·ªâ trong si√™u m√°y t√≠nh"], answer: "H·∫ßu h·∫øt c√°c thi·∫øt b·ªã di ƒë·ªông", explanation: "Ki·∫øn tr√∫c RISC, v·ªõi ƒë·∫∑c ƒëi·ªÉm l√† t·∫≠p l·ªánh ƒë∆°n gi·∫£n v√† ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng, l√† l·ª±a ch·ªçn l√Ω t∆∞·ªüng cho c√°c thi·∫øt b·ªã di ƒë·ªông, n∆°i hi·ªáu su·∫•t tr√™n m·ªói Watt l√† r·∫•t quan tr·ªçng. C√°c chip ARM l√† v√≠ d·ª• ƒëi·ªÉn h√¨nh.", tip: "R = Reduced (gi·∫£m thi·ªÉu), ph√π h·ª£p cho thi·∫øt b·ªã nh·ªè g·ªçn, c·∫ßn ti·∫øt ki·ªám pin." },
                { question: "Th·∫ø h·ªá m√°y t√≠nh n√†o ch·ª©ng ki·∫øn s·ª± ra ƒë·ªùi c·ªßa m√°y t√≠nh c√° nh√¢n (PC)?", options: ["Th·∫ø h·ªá 2", "Th·∫ø h·ªá 3", "Th·∫ø h·ªá 4", "Th·∫ø h·ªá 5"], answer: "Th·∫ø h·ªá 4", explanation: "Th·∫ø h·ªá th·ª© t∆∞ ƒë∆∞·ª£c ƒë√°nh d·∫•u b·∫±ng s·ª± ph√°t minh ra vi x·ª≠ l√Ω, n∆°i to√†n b·ªô CPU c√≥ th·ªÉ ƒë∆∞·ª£c ƒë·∫∑t tr√™n m·ªôt con chip duy nh·∫•t. ƒêi·ªÅu n√†y ƒë√£ m·ªü ƒë∆∞·ªùng cho s·ª± ra ƒë·ªùi c·ªßa c√°c m√°y t√≠nh c√° nh√¢n.", tip: "Vi x·ª≠ l√Ω -> Vi t√≠nh (m√°y t√≠nh c√° nh√¢n)." },
                { question: "Bus ƒë·ªãa ch·ªâ (Address Bus) trong h·ªá th·ªëng m√°y t√≠nh d√πng ƒë·ªÉ l√†m g√¨?", options: ["Truy·ªÅn d·ªØ li·ªáu gi·ªØa CPU v√† RAM", "X√°c ƒë·ªãnh v·ªã tr√≠ √¥ nh·ªõ ho·∫∑c thi·∫øt b·ªã I/O", "G·ª≠i c√°c t√≠n hi·ªáu ƒëi·ªÅu khi·ªÉn ƒë·ªçc/ghi", "Cung c·∫•p ngu·ªìn ƒëi·ªán"], answer: "X√°c ƒë·ªãnh v·ªã tr√≠ √¥ nh·ªõ ho·∫∑c thi·∫øt b·ªã I/O", explanation: "CPU ƒë·∫∑t m·ªôt ƒë·ªãa ch·ªâ l√™n Bus ƒë·ªãa ch·ªâ ƒë·ªÉ 'ch·ªâ ƒë·ªãnh' ch√≠nh x√°c √¥ nh·ªõ trong RAM ho·∫∑c c·ªïng c·ªßa thi·∫øt b·ªã I/O m√† n√≥ mu·ªën giao ti·∫øp.", tip: "Address Bus mang theo 'ƒë·ªãa ch·ªâ nh√†' c·ªßa d·ªØ li·ªáu." },
                { question: "S·ª± kh√°c bi·ªát ch√≠nh gi·ªØa RAM v√† ROM l√† g√¨?", options: ["RAM nhanh h∆°n ROM", "RAM l√† b·ªô nh·ªõ kh·∫£ bi·∫øn, ROM l√† b·∫•t bi·∫øn", "RAM c√≥ dung l∆∞·ª£ng l·ªõn h∆°n ROM", "RAM ƒë·ªÉ l∆∞u tr·ªØ, ROM ƒë·ªÉ t√≠nh to√°n"], answer: "RAM l√† b·ªô nh·ªõ kh·∫£ bi·∫øn, ROM l√† b·∫•t bi·∫øn", explanation: "T√≠nh 'kh·∫£ bi·∫øn' (volatility) l√† ƒëi·ªÉm kh√°c bi·ªát c·ªët l√µi. D·ªØ li·ªáu trong RAM s·∫Ω bi·∫øn m·∫•t khi m·∫•t ƒëi·ªán, trong khi d·ªØ li·ªáu trong ROM v·∫´n ƒë∆∞·ª£c gi·ªØ l·∫°i.", tip: "RAM = Random Access (t·∫°m th·ªùi). ROM = Read-Only (vƒ©nh vi·ªÖn)." },
                { question: "M·ª•c ƒë√≠ch c·ªßa giai ƒëo·∫°n 'Decode' (Gi·∫£i m√£) trong chu k·ª≥ m√°y l√† g√¨?", options: ["L·∫•y l·ªánh t·ª´ RAM", "Th·ª±c hi·ªán ph√©p c·ªông", "Hi·ªÉu v√† ph√¢n t√≠ch ch·ªâ th·ªã trong IR", "L∆∞u k·∫øt qu·∫£ v√†o thanh ghi"], answer: "Hi·ªÉu v√† ph√¢n t√≠ch ch·ªâ th·ªã trong IR", explanation: "Sau khi l·ªánh ƒë∆∞·ª£c n·∫°p v√†o Instruction Register, B·ªô ƒëi·ªÅu khi·ªÉn s·∫Ω 'nh√¨n' v√†o m√£ nh·ªã ph√¢n c·ªßa l·ªánh ƒë√≥ ƒë·ªÉ gi·∫£i m√£, x√°c ƒë·ªãnh xem ƒë√≥ l√† l·ªánh g√¨ v√† c√°c to√°n h·∫°ng c·ªßa n√≥ l√† g√¨.", tip: "Decode = 'gi·∫£i m√£' m·∫≠t th∆∞ (l·ªánh) ƒë·ªÉ hi·ªÉu m·ªánh l·ªánh." },
                { question: "N·∫øu m·ªôt m√°y t√≠nh c√≥ Bus d·ªØ li·ªáu r·ªông 64-bit, ƒëi·ªÅu ƒë√≥ c√≥ nghƒ©a l√† g√¨?", options: ["N√≥ c√≥ th·ªÉ x·ª≠ l√Ω 64 l·ªánh c√πng l√∫c", "N√≥ c√≥ th·ªÉ truy·ªÅn 64 bit d·ªØ li·ªáu trong m·ªôt l·∫ßn", "RAM c·ªßa n√≥ l√† 64GB", "N√≥ c√≥ 64 thanh ghi"], answer: "N√≥ c√≥ th·ªÉ truy·ªÅn 64 bit d·ªØ li·ªáu trong m·ªôt l·∫ßn", explanation: "ƒê·ªô r·ªông c·ªßa Bus d·ªØ li·ªáu quy·∫øt ƒë·ªãnh l∆∞·ª£ng d·ªØ li·ªáu c√≥ th·ªÉ ƒë∆∞·ª£c di chuy·ªÉn ƒë·ªìng th·ªùi. Bus 64-bit gi·ªëng nh∆∞ m·ªôt con ƒë∆∞·ªùng c√≥ 64 l√†n, cho ph√©p 64 bit ƒëi qua c√πng m·ªôt l√∫c.", tip: "R·ªông bao nhi√™u bit th√¨ mang ƒë∆∞·ª£c b·∫•y nhi√™u bit." },
                { question: "T·∫°i sao m√°y t√≠nh s·ª≠ d·ª•ng h·ªá nh·ªã ph√¢n?", options: ["V√¨ d·ªÖ t√≠nh to√°n h∆°n cho con ng∆∞·ªùi", "V√¨ linh ki·ªán ƒëi·ªán t·ª≠ c√≥ hai tr·∫°ng th√°i ·ªïn ƒë·ªãnh (B·∫¨T/T·∫ÆT)", "V√¨ Alan Turing ƒë√£ quy ƒë·ªãnh", "V√¨ chi·∫øm √≠t kh√¥ng gian l∆∞u tr·ªØ h∆°n"], answer: "V√¨ linh ki·ªán ƒëi·ªán t·ª≠ c√≥ hai tr·∫°ng th√°i ·ªïn ƒë·ªãnh (B·∫¨T/T·∫ÆT)", explanation: "C√°c transistor ho·∫°t ƒë·ªông nh∆∞ c√¥ng t·∫Øc ƒëi·ªán, c√≥ hai tr·∫°ng th√°i r√µ r√†ng: c√≥ d√≤ng ƒëi·ªán (1) v√† kh√¥ng c√≥ (0). H·ªá nh·ªã ph√¢n ho√†n to√†n ph√π h·ª£p ƒë·ªÉ bi·ªÉu di·ªÖn hai tr·∫°ng th√°i n√†y.", tip: "2 tr·∫°ng th√°i (B·∫≠t/T·∫Øt) -> 2 ch·ªØ s·ªë (0/1) -> H·ªá nh·ªã ph√¢n." },
                { question: "S·ª± kh√°c bi·ªát c∆° b·∫£n gi·ªØa b·ªô nh·ªõ ch√≠nh (RAM) v√† b·ªô nh·ªõ ph·ª• (·ªï c·ª©ng) l√† g√¨?", options: ["T·ªëc ƒë·ªô v√† t√≠nh kh·∫£ bi·∫øn", "M√†u s·∫Øc", "Nh√† s·∫£n xu·∫•t", "Kh√¥ng c√≥ s·ª± kh√°c bi·ªát"], answer: "T·ªëc ƒë·ªô v√† t√≠nh kh·∫£ bi·∫øn", explanation: "RAM nhanh h∆°n r·∫•t nhi·ªÅu so v·ªõi ·ªï c·ª©ng nh∆∞ng l√† b·ªô nh·ªõ kh·∫£ bi·∫øn (d·ªØ li·ªáu m·∫•t khi t·∫Øt ngu·ªìn). ·ªî c·ª©ng ch·∫≠m h∆°n nh∆∞ng l√† b·ªô nh·ªõ b·∫•t bi·∫øn, d√πng ƒë·ªÉ l∆∞u tr·ªØ d·ªØ li·ªáu l√¢u d√†i.", tip: "RAM ƒë·ªÉ 'l√†m vi·ªác', ·ªï c·ª©ng ƒë·ªÉ 'c·∫•t gi·ªØ'." },
                { question: "M√¥ h√¨nh x·ª≠ l√Ω song song SIMD (Single Instruction, Multiple Data) c√≥ nghƒ©a l√† g√¨?", options: ["Nhi·ªÅu l·ªánh x·ª≠ l√Ω m·ªôt d·ªØ li·ªáu", "M·ªôt l·ªánh ƒë∆∞·ª£c √°p d·ª•ng cho nhi·ªÅu m·∫©u d·ªØ li·ªáu c√πng m·ªôt l√∫c", "Nhi·ªÅu l·ªánh x·ª≠ l√Ω nhi·ªÅu d·ªØ li·ªáu", "M·ªôt l·ªánh x·ª≠ l√Ω m·ªôt d·ªØ li·ªáu"], answer: "M·ªôt l·ªánh ƒë∆∞·ª£c √°p d·ª•ng cho nhi·ªÅu m·∫©u d·ªØ li·ªáu c√πng m·ªôt l√∫c", explanation: "SIMD r·∫•t hi·ªáu qu·∫£ cho c√°c t√°c v·ª• ƒë·ªì h·ªça, n∆°i c√πng m·ªôt ph√©p to√°n (v√≠ d·ª•: tƒÉng ƒë·ªô s√°ng) c·∫ßn ƒë∆∞·ª£c √°p d·ª•ng cho h√†ng tri·ªáu ƒëi·ªÉm ·∫£nh c√πng m·ªôt l√∫c.", tip: "Single Instruction (M·ªôt l·ªánh), Multiple Data (Nhi·ªÅu d·ªØ li·ªáu)." },
                { question: "M·ª•c ƒë√≠ch ch√≠nh c·ªßa H·ªá ƒëi·ªÅu h√†nh (Operating System) l√† g√¨?", options: ["Ch·∫°y c√°c tr√≤ ch∆°i", "Qu·∫£n l√Ω t√†i nguy√™n ph·∫ßn c·ª©ng v√† cung c·∫•p giao di·ªán", "TƒÉng t·ªëc ƒë·ªô CPU", "Thi·∫øt k·∫ø web"], answer: "Qu·∫£n l√Ω t√†i nguy√™n ph·∫ßn c·ª©ng v√† cung c·∫•p giao di·ªán", explanation: "H·ªá ƒëi·ªÅu h√†nh (nh∆∞ Windows, macOS) ho·∫°t ƒë·ªông nh∆∞ m·ªôt ng∆∞·ªùi qu·∫£n l√Ω, ƒëi·ªÅu ph·ªëi vi·ªác s·ª≠ d·ª•ng CPU, b·ªô nh·ªõ, ·ªï ƒëƒ©a, ƒë·ªìng th·ªùi t·∫°o ra m·ªôt m√¥i tr∆∞·ªùng ƒë·ªÉ c√°c ·ª©ng d·ª•ng kh√°c c√≥ th·ªÉ ch·∫°y.", tip: "H·ªá ƒëi·ªÅu h√†nh l√† '√¥ng ch·ªß' c·ªßa m√°y t√≠nh." },
                { question: "N·∫øu m·ªôt CPU c√≥ t·ªëc ƒë·ªô 4.0 GHz, con s·ªë n√†y c√≥ √Ω nghƒ©a g√¨?", options: ["N√≥ th·ª±c hi·ªán 4 t·ª∑ ph√©p t√≠nh m·ªói gi√¢y", "N√≥ th·ª±c hi·ªán 4 t·ª∑ chu k·ª≥ m√°y m·ªói gi√¢y", "N√≥ truy·ªÅn 4GB d·ªØ li·ªáu m·ªói gi√¢y", "N√≥ c√≥ 4 l√µi"], answer: "N√≥ th·ª±c hi·ªán 4 t·ª∑ chu k·ª≥ m√°y m·ªói gi√¢y", explanation: "T·ªëc ƒë·ªô xung nh·ªãp (clock speed), ƒëo b·∫±ng Hertz (Hz), cho bi·∫øt s·ªë chu k·ª≥ m√† CPU c√≥ th·ªÉ th·ª±c hi·ªán m·ªói gi√¢y. M·ªôt l·ªánh m√°y c√≥ th·ªÉ c·∫ßn nhi·ªÅu chu k·ª≥ ƒë·ªÉ ho√†n th√†nh.", tip: "GHz = T·ª∑ chu k·ª≥ m·ªói gi√¢y. ƒê√¢y l√† 'nh·ªãp ƒë·∫≠p' c·ªßa CPU." },
                { question: "Th·∫ª ƒë·ª•c l·ªó (Punched cards) ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c m√°y t√≠nh s∆° khai c√≥ vai tr√≤ g√¨?", options: ["L√†m m√°t h·ªá th·ªëng", "L√† b·ªô nh·ªõ ch√≠nh", "ƒê·ªÉ nh·∫≠p ch∆∞∆°ng tr√¨nh v√† d·ªØ li·ªáu", "L√† ƒë∆°n v·ªã x·ª≠ l√Ω"], answer: "ƒê·ªÉ nh·∫≠p ch∆∞∆°ng tr√¨nh v√† d·ªØ li·ªáu", explanation: "Tr∆∞·ªõc khi c√≥ b√†n ph√≠m v√† m√†n h√¨nh, th·∫ª ƒë·ª•c l·ªó l√† m·ªôt ph∆∞∆°ng ti·ªán ph·ªï bi·∫øn ƒë·ªÉ m√£ h√≥a th√¥ng tin. V·ªã tr√≠ c·ªßa c√°c l·ªó tr√™n th·∫ª ƒë·∫°i di·ªán cho c√°c ch·ªâ th·ªã v√† d·ªØ li·ªáu.", tip: "Th·∫ª ƒë·ª•c l·ªó = B√†n ph√≠m v√† USB th·ªùi x∆∞a." },
                { question: "Trong ph√¢n c·∫•p b·ªô nh·ªõ, lo·∫°i n√†o c√≥ t·ªëc ƒë·ªô truy c·∫≠p nhanh nh·∫•t?", options: ["SSD", "RAM", "Cache", "Registers (Thanh ghi)"], answer: "Registers (Thanh ghi)", explanation: "C√°c thanh ghi n·∫±m ngay b√™n trong l√µi CPU, do ƒë√≥ t·ªëc ƒë·ªô truy c·∫≠p g·∫ßn nh∆∞ l√† t·ª©c th·ªùi. T·ªëc ƒë·ªô gi·∫£m d·∫ßn: Registers > Cache > RAM > SSD.", tip: "C√†ng g·∫ßn CPU, c√†ng nhanh, c√†ng nh·ªè, c√†ng ƒë·∫Øt." },
                { question: "M√°y d·ªát Jacquard c√≥ √Ω nghƒ©a l·ªãch s·ª≠ v√¨ n√≥ l√† c·ªó m√°y ƒë·∫ßu ti√™n s·ª≠ d·ª•ng √Ω t∆∞·ªüng n√†o?", options: ["L∆∞u tr·ªØ v√† l·∫≠p tr√¨nh b·∫±ng th·∫ª ƒë·ª•c l·ªó", "S·ª≠ d·ª•ng ƒëi·ªán", "T√≠nh to√°n ƒëa th·ª©c", "C√≥ b·ªô nh·ªõ v√† b·ªô x·ª≠ l√Ω"], answer: "L∆∞u tr·ªØ v√† l·∫≠p tr√¨nh b·∫±ng th·∫ª ƒë·ª•c l·ªó", explanation: "M√°y d·ªát Jacquard d√πng c√°c th·∫ª g·ªó ƒë·ª•c l·ªó ƒë·ªÉ ƒëi·ªÅu khi·ªÉn kim d·ªát, t·∫°o ra c√°c hoa vƒÉn ph·ª©c t·∫°p. ƒê√¢y l√† h√¨nh th·ª©c s∆° khai c·ªßa vi·ªác l∆∞u tr·ªØ m·ªôt 'ch∆∞∆°ng tr√¨nh' (hoa vƒÉn) ƒë·ªÉ m√°y m√≥c t·ª± ƒë·ªông th·ª±c hi·ªán.", tip: "Jacquard = D·ªát may = Hoa vƒÉn tr√™n th·∫ª ƒë·ª•c l·ªó." },
                { question: "L√Ω do ban ƒë·∫ßu cho s·ª± ra ƒë·ªùi c·ªßa H·ªá ƒëi·ªÅu h√†nh l√† g√¨?", options: ["ƒê·ªÉ ch∆°i game", "ƒê·ªÉ l∆∞·ªõt web", "ƒê·ªÉ qu·∫£n l√Ω v√† t·∫°o ƒëi·ªÅu ki·ªán truy c·∫≠p v√†o ph·∫ßn c·ª©ng", "ƒê·ªÉ vi·∫øt email"], answer: "ƒê·ªÉ qu·∫£n l√Ω v√† t·∫°o ƒëi·ªÅu ki·ªán truy c·∫≠p v√†o ph·∫ßn c·ª©ng", explanation: "Ban ƒë·∫ßu, h·ªá ƒëi·ªÅu h√†nh ƒë∆∞·ª£c t·∫°o ra nh∆∞ m·ªôt l·ªõp trung gian ƒë·ªÉ qu·∫£n l√Ω c√°c t√†i nguy√™n ph·∫ßn c·ª©ng ph·ª©c t·∫°p, gi√∫p c√°c ch∆∞∆°ng tr√¨nh ·ª©ng d·ª•ng truy c·∫≠p ch√∫ng m·ªôt c√°ch d·ªÖ d√†ng v√† hi·ªáu qu·∫£ h∆°n.", tip: "H·ªá ƒëi·ªÅu h√†nh = Ng∆∞·ªùi qu·∫£n gia cho ph·∫ßn c·ª©ng." },
                { question: "S·ª± ra ƒë·ªùi c·ªßa c√°c 'g√≥i ph·∫ßn m·ªÅm' (software packages) l√† ƒë·∫∑c tr∆∞ng c·ªßa th·∫ø h·ªá m√°y t√≠nh n√†o?", options: ["Th·∫ø h·ªá 2", "Th·∫ø h·ªá 3", "Th·∫ø h·ªá 4", "Th·∫ø h·ªá 5"], answer: "Th·∫ø h·ªá 3", explanation: "C√πng v·ªõi s·ª± ph√°t tri·ªÉn c·ªßa m√°y t√≠nh mini ·ªü th·∫ø h·ªá th·ª© ba, nhu c·∫ßu v·ªÅ c√°c ch∆∞∆°ng tr√¨nh l√†m s·∫µn tƒÉng cao, t·ª´ ƒë√≥ h√¨nh th√†nh n√™n ng√†nh c√¥ng nghi·ªáp ph·∫ßn m·ªÅm.", tip: "Th·∫ø h·ªá 3 (m√°y t√≠nh ph·ªï bi·∫øn h∆°n) -> C·∫ßn ph·∫ßn m·ªÅm -> Ng√†nh ph·∫ßn m·ªÅm ra ƒë·ªùi." }
            ],
            
            domElements: {},
            state: {},

            init() {
                // G√°n c√°c ph·∫ßn t·ª≠ DOM v√†o ƒë·ªëi t∆∞·ª£ng
                this.domElements = {
                    startScreen: document.getElementById('start-screen'),
                    quizScreen: document.getElementById('quiz-screen'),
                    scoreScreen: document.getElementById('score-screen'),
                    startBtn: document.getElementById('start-btn'),
                    restartBtn: document.getElementById('restart-btn'),
                    nextBtn: document.getElementById('next-btn'),
                    questionEl: document.getElementById('question'),
                    optionsContainer: document.getElementById('options-container'),
                    resultContainer: document.getElementById('result-container'),
                    questionCounterEl: document.getElementById('question-counter'),
                    scoreCounterEl: document.getElementById('score-counter'),
                    finalScoreEl: document.getElementById('final-score'),
                    finalMessageEl: document.getElementById('final-message'),
                    resultTextEl: document.getElementById('result-text'),
                    explanationTextEl: document.getElementById('explanation-text'),
                    tipTextEl: document.getElementById('tip-text'),
                };

                // G·∫Øn s·ª± ki·ªán cho c√°c n√∫t
                this.domElements.startBtn.addEventListener('click', () => this.startQuiz());
                this.domElements.restartBtn.addEventListener('click', () => this.startQuiz());
                this.domElements.nextBtn.addEventListener('click', () => this.handleNext());
            },

            startQuiz() {
                this.domElements.startScreen.classList.add('hide');
                this.domElements.scoreScreen.classList.add('hide');
                this.domElements.quizScreen.classList.remove('hide');

                const allQuestions = [...this.questionBank];
                this.shuffleArray(allQuestions);
                this.state = {
                    shuffledQuestions: allQuestions.slice(0, 20),
                    currentQuestionIndex: 0,
                    score: 0,
                    totalQuestions: 20,
                };
                
                this.updateScoreCounter();
                this.showQuestion();
            },

            showQuestion() {
                this.resetState();
                const currentQuestion = this.state.shuffledQuestions[this.state.currentQuestionIndex];
                this.domElements.questionEl.innerText = currentQuestion.question;
                this.domElements.questionCounterEl.innerText = `C√¢u ${this.state.currentQuestionIndex + 1} / ${this.state.totalQuestions}`;

                currentQuestion.options.forEach(optionText => {
                    const button = document.createElement('button');
                    button.innerText = optionText;
                    button.classList.add('option-btn');
                    button.addEventListener('click', (e) => this.selectAnswer(e));
                    this.domElements.optionsContainer.appendChild(button);
                });
            },

            selectAnswer(e) {
                const selectedButton = e.target;
                const isCorrect = selectedButton.innerText === this.state.shuffledQuestions[this.state.currentQuestionIndex].answer;

                if (isCorrect) {
                    this.state.score++;
                    this.domElements.resultTextEl.innerText = "üéâ Ch√≠nh x√°c! Tuy·ªát v·ªùi!";
                    this.domElements.resultTextEl.style.color = 'var(--correct-color)';
                } else {
                    this.domElements.resultTextEl.innerText = "üò• Ch∆∞a ƒë√∫ng!";
                    this.domElements.resultTextEl.style.color = 'var(--incorrect-color)';
                    selectedButton.classList.add('incorrect');
                }
                this.updateScoreCounter();

                Array.from(this.domElements.optionsContainer.children).forEach(button => {
                    if (button.innerText === this.state.shuffledQuestions[this.state.currentQuestionIndex].answer) {
                        button.classList.add('correct');
                    }
                    button.disabled = true;
                });
                
                const currentQuestion = this.state.shuffledQuestions[this.state.currentQuestionIndex];
                this.domElements.explanationTextEl.innerText = currentQuestion.explanation;
                this.domElements.tipTextEl.innerText = currentQuestion.tip;
                this.domElements.resultContainer.classList.remove('hide');
                this.domElements.nextBtn.classList.remove('hide');
            },
            
            handleNext() {
                this.state.currentQuestionIndex++;
                if (this.state.currentQuestionIndex < this.state.totalQuestions) {
                    this.showQuestion();
                } else {
                    this.showScore();
                }
            },

            showScore() {
                this.domElements.quizScreen.classList.add('hide');
                this.domElements.scoreScreen.classList.remove('hide');
                this.domElements.finalScoreEl.innerText = `ƒêi·ªÉm s·ªë c·ªßa b·∫°n: ${this.state.score} / ${this.state.totalQuestions}`;
                
                let message = '';
                const percentage = (this.state.score / this.state.totalQuestions) * 100;
                if (percentage === 100) message = 'Ho√†n h·∫£o! B·∫°n l√† m·ªôt chuy√™n gia th·ª±c th·ª•!';
                else if (percentage >= 80) message = 'R·∫•t t·ªët! B·∫°n ƒë√£ n·∫Øm v·ªØng h·∫ßu h·∫øt ki·∫øn th·ª©c.';
                else if (percentage >= 50) message = 'Kh√° ·ªïn! H√£y √¥n l·∫°i m·ªôt ch√∫t ƒë·ªÉ ho√†n thi·ªán h∆°n nh√©.';
                else message = 'ƒê·ª´ng lo l·∫Øng! M·ªói l·∫ßn l√†m l·∫°i l√† m·ªôt l·∫ßn h·ªçc h·ªèi. C·ªë l√™n!';
                this.domElements.finalMessageEl.innerText = message;
            },

            updateScoreCounter() {
                this.domElements.scoreCounterEl.innerText = `ƒêi·ªÉm: ${this.state.score}`;
            },

            resetState() {
                while (this.domElements.optionsContainer.firstChild) {
                    this.domElements.optionsContainer.removeChild(this.domElements.optionsContainer.firstChild);
                }
                this.domElements.nextBtn.classList.add('hide');
                this.domElements.resultContainer.classList.add('hide');
            },

            shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }
        };

        // Kh·ªüi ch·∫°y ·ª©ng d·ª•ng khi to√†n b·ªô trang ƒë√£ ƒë∆∞·ª£c t·∫£i
        document.addEventListener('DOMContentLoaded', () => {
            quizApp.init();
        });

    </script>
</body>
</html>